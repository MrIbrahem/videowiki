webpackJsonp([2],{1358:function(e,t,r){(function(e){!function(){var t=r(12),n=r(13),o=r(10),a=r(0);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return n.getRootInstances(o)},a)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),s=e(c),u=r(88),l=r(134),p=r(1372),f=e(p),d=r(157),h=r(1369),y=e(h),m=r(354),v=e(m),g=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={shouldRender:!1,shouldShowError:!0},r.handleClose=r.handleClose.bind(r),r}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,r=e.match,n=f.default.parse(location.search),o=n.wikiSource;t(v.default.fetchWikiPage({title:r.params.title,wikiSource:o}))}},{key:"componentWillReceiveProps",value:function(e){var t=f.default.parse(location.search),r=t.wikiSource;if("loading"===this.props.wikiContentState&&"done"===e.wikiContentState&&this.setState({shouldRender:!0}),this.props.match.url!==e.match.url||this.props.location.search!==e.location.search){var n=f.default.parse(location.search),o=n.wikiSource;e.dispatch(v.default.fetchWikiPage({title:e.match.params.title,wikiSource:o}))}""==this.props.wikiSource&&""!==e.wikiSource&&e.wikiSource&&this.props.history.push("/wiki/"+e.match.params.title+"?wikiSource="+e.wikiSource),"loading"===this.props.convertState&&"failed"===e.convertState&&this.setState({shouldShowError:!0}),console.log("will receive props ",e),"loading"===this.props.convertState&&"done"===e.convertState&&this.props.history.push("/wiki/convert/"+e.match.params.title+"?wikiSource="+r)}},{key:"handleClose",value:function(){this.setState({shouldShowError:!1})}},{key:"_renderError",value:function(){var e=this.props.convertError;return this.state.shouldShowError&&e&&e.response?s.default.createElement(d.Modal,{open:!0,onClose:this.handleClose,basic:!0,size:"small"},s.default.createElement(d.Modal.Content,null,s.default.createElement("h3",{className:"c-editor-error-modal"},e.response.text)),s.default.createElement(d.Modal.Actions,null,s.default.createElement(d.Button,{color:"green",onClick:this.handleClose,inverted:!0},s.default.createElement(d.Icon,{name:"checkmark"})," Got it"))):null}},{key:"_handleConvertToVideoWiki",value:function(){var e=this.props,t=e.match,r=e.dispatch,n=f.default.parse(location.search),o=n.wikiSource,a=t.params.title;r(v.default.convertWiki({title:a,wikiSource:o}))}},{key:"_renderConvertToVideoWikiButton",value:function(){var e=this;return s.default.createElement(d.Button,{primary:!0,className:"u-block-center u-display-block u-margin-bottom",onClick:function(){return e._handleConvertToVideoWiki()}},"Convert this article to VideoWiki")}},{key:"_render",value:function(){var e=this.props.wikiContent;try{var t=JSON.parse(e);if(console.log("parsed content ",t),t.redirect&&this.state.shouldRender)return s.default.createElement(u.Redirect,{to:t.path})}catch(e){}return s.default.createElement("div",null,this._renderConvertToVideoWikiButton(),s.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),this._renderError())}},{key:"render",value:function(){var e=this,t=this.props.wikiContentState;return s.default.createElement(y.default,{componentState:t,loaderImage:"/img/view-loader.gif",loaderMessage:"Loading your article from the sum of all human knowledge!",errorMessage:"Error while loading wiki content! Please try again later!",onRender:function(){return e._render()}})}}]),t}(c.Component),b=function(e){return Object.assign({},e.wiki)};t.default=(0,l.connect)(b)(g),g.propTypes={dispatch:c.PropTypes.func.isRequired,match:c.PropTypes.object.isRequired,wikiContent:c.PropTypes.string,wikiContentState:c.PropTypes.string.isRequired,history:c.PropTypes.object.isRequired,convertState:c.PropTypes.string,convertError:c.PropTypes.object}}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){r(14)(e,r(0))&&(t=!0);t&&e.hot.accept(function(e){e&&console.error("Cannot apply hot update to index.js: "+e.message)})}e.hot.dispose(function(r){r.makeHot=e.makeHot,r.foundReactClasses=t})}()}}).call(t,r(8)(e))},1366:function(e,t,r){(function(e){!function(){var t=r(12),n=r(13),o=r(10),a=r(0);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return n.getRootInstances(o)},a)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),s=e(c),u=r(134),l=r(157),p=r(88),f=r(1372),d=e(f),h=r(1369),y=(e(h),r(354)),m=e(y),v=r(352),g=e(v),b=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.match,r=e.dispatch,n=t.params.title,o=d.default.parse(location.search),a=o.wikiSource;r(m.default.convertWiki({title:n,wikiSource:a})),r(g.default.fetchConversionProgress({title:n,wikiSource:a})),this._startPoller()}},{key:"componentWillReceiveProps",value:function(e){!0===e.conversionPercentage.converted&&(this._stopPoller(),this._navigateToArticle())}},{key:"componentWillUnmount",value:function(){this._stopPoller()}},{key:"_startPoller",value:function(){var e=this.props,t=e.match,r=e.dispatch,n=t.params.title,o=d.default.parse(location.search),a=o.wikiSource;this._sessionPoller=setInterval(function(){r(g.default.fetchConversionProgress({title:n,wikiSource:a}))},1e4)}},{key:"_stopPoller",value:function(){clearInterval(this._sessionPoller),this._sessionPoller=null}},{key:"_navigateToArticle",value:function(){var e=this;setTimeout(function(){if(e.props.conversionPercentage.converted){var t=d.default.parse(location.search),r=t.wikiSource;e.props.history.push("/videowiki/"+e.props.conversionPercentage.title+"?wikiSource="+r)}else e._startPoller()},2e3)}},{key:"_render",value:function(){var e=this.props,t=e.match,r=e.conversionPercentage,n=t.params.title,o=r?r.progress:0;return s.default.createElement("div",{className:"u-page-center"},s.default.createElement("h2",null,"Converting Wikipedia Article for "+n.split("_").join(" ")+" to VideoWiki"),s.default.createElement(l.Progress,{className:"c-app-conversion-progress",percent:o,progress:!0,indicating:!0}),s.default.createElement("div",null,s.default.createElement("span",null,"Converting - "+o+"% converted")),s.default.createElement("div",null,s.default.createElement("strong",null,"Quick Fact: "),"It takes 4-5 minutes to convert an article. So get some ",s.default.createElement("img",{src:"/img/coffee.png",className:"c-app-coffee"})," until then."))}},{key:"render",value:function(){return this._render()}}]),t}(c.Component),k=function(e){return Object.assign({},e.wikiProgress,e.article)};t.default=(0,p.withRouter)((0,u.connect)(k)(b)),b.propTypes={dispatch:c.PropTypes.func.isRequired,match:c.PropTypes.object,conversionPercentage:c.PropTypes.object,conversionPercentageState:c.PropTypes.string.isRequired,history:s.default.PropTypes.shape({push:s.default.PropTypes.func.isRequired}).isRequired}}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){r(14)(e,r(0))&&(t=!0);t&&e.hot.accept(function(e){e&&console.error("Cannot apply hot update to WikiProgress.js: "+e.message)})}e.hot.dispose(function(r){r.makeHot=e.makeHot,r.foundReactClasses=t})}()}}).call(t,r(8)(e))},1369:function(e,t,r){(function(e){!function(){var t=r(12),n=r(13),o=r(10),a=r(0);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return n.getRootInstances(o)},a)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),s=e(c),u=r(157),l=r(1370),p=e(l),f=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.componentState,r=e.loaderMessage,n=e.errorMessage,o=e.onRender;switch(t){case"done":return o();case"loading":return this.props.loaderDisabled?null:s.default.createElement(p.default,{loaderImage:this.props.loaderImage},r);case"failed":return s.default.createElement(u.Message,{color:"red",size:"massive"},n);default:return this.props.loaderDisabled?null:s.default.createElement(p.default,{loaderImage:this.props.loaderImage})}}}]),t}(c.Component);t.default=f,f.propTypes={componentState:c.PropTypes.string.isRequired,loaderImage:c.PropTypes.string,loaderDisabled:c.PropTypes.bool,loaderMessage:c.PropTypes.string.isRequired,errorMessage:c.PropTypes.string.isRequired,onRender:c.PropTypes.func.isRequired}}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){r(14)(e,r(0))&&(t=!0);t&&e.hot.accept(function(e){e&&console.error("Cannot apply hot update to StateRenderer.js: "+e.message)})}e.hot.dispose(function(r){r.makeHot=e.makeHot,r.foundReactClasses=t})}()}}).call(t,r(8)(e))},1370:function(e,t,r){(function(e){!function(){var t=r(12),n=r(13),o=r(10),a=r(0);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return n.getRootInstances(o)},a)}();try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),c=function(e){return e&&e.__esModule?e:{default:e}}(i),s=r(157),u=function(t){function r(){return e(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return o(r,t),a(r,[{key:"render",value:function(){return this.props.loaderImage?c.default.createElement(s.Dimmer,{active:!0,inverted:!0},c.default.createElement(s.Image,{src:this.props.loaderImage,size:"small"}),c.default.createElement("h3",null,this.props.children)):c.default.createElement(s.Dimmer,{active:!0,inverted:!0},c.default.createElement(s.Loader,{size:"large",active:!0,inverted:!0},this.props.children))}}]),r}(i.Component);t.default=u,u.propTypes={children:i.PropTypes.node,loaderImage:i.PropTypes.string}}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){r(14)(e,r(0))&&(t=!0);t&&e.hot.accept(function(e){e&&console.error("Cannot apply hot update to LoaderOverlay.js: "+e.message)})}e.hot.dispose(function(r){r.makeHot=e.makeHot,r.foundReactClasses=t})}()}}).call(t,r(8)(e))},1372:function(e,t,r){"use strict";function n(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[a(t,e),"[",n,"]"].join(""):[a(t,e),"[",a(n,e),"]=",a(r,e)].join("")};case"bracket":return function(t,r){return null===r?a(t,e):[a(t,e),"[]=",a(r,e)].join("")};default:return function(t,r){return null===r?a(t,e):[a(t,e),"=",a(r,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(n[e]=r);void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return function(e,r,n){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===n[e]?void(n[e]=[r]):void(n[e]=[].concat(n[e],r)):void(n[e]=r)};default:return function(e,t,r){if(void 0===r[e])return void(r[e]=t);r[e]=[].concat(r[e],t)}}}function a(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"==typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var c=r(1505),s=r(1501),u=r(1499);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=s({arrayFormat:"none"},t);var r=o(t),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:u(a),r(u(o),a,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=i(r):e[t]=r,e},Object.create(null))):n},t.stringify=function(e,t){t=s({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var r=n(t);return e?Object.keys(e).sort(t.sort).map(function(n){var o=e[n];if(void 0===o)return"";if(null===o)return a(n,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(r(n,e,i.length))}),i.join("&")}return a(n,t)+"="+a(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},1499:function(e,t,r){"use strict";function n(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],n(r),n(o))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(i),r=1;r<t.length;r++)e=n(t,r).join(""),t=e.match(i);return e}}function a(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=c.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=o(r[0]);n!==r[0]&&(t[r[0]]=n)}r=c.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var s=a[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),c=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},1501:function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,c,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)a.call(r,l)&&(s[l]=r[l]);if(o){c=o(r);for(var p=0;p<c.length;p++)i.call(r,c[p])&&(s[c[p]]=r[c[p]])}}return s}},1505:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}});