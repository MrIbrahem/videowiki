webpackJsonp([9],{1045:function(e,t,n){var r=n(1046)("round");e.exports=r},1046:function(e,t,n){var r=n(38),a=n(143),o=n(78),c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:c(r(n),292)){var i=(o(e)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+n));return+((i=(o(s)+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}},1047:function(e,t,n){var r=n(375),a=n(143);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=a(n))===n?n:0),void 0!==t&&(t=(t=a(t))===t?t:0),r(a(e),t,n)}},1048:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},1049:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=c(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),i=0;i<o.length;i++){var s=o[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(891),a=n.n(r),o=n(0),c=n.n(o),i=n(77),s=n(44),u=n(900),l=n.n(u),f=(n(887),n(224)),d=n(222);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,v(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props,t=e.match,n=e.dispatch,r=t.params.title,a=l.a.parse(location.search).wikiSource;n(f.a.convertWiki({title:r,wikiSource:a})),n(d.a.fetchConversionProgress({title:r,wikiSource:a})),this._startPoller()}},{key:"componentWillReceiveProps",value:function(e){!0===e.conversionPercentage.converted&&(this._stopPoller(),this._navigateToArticle())}},{key:"componentWillUnmount",value:function(){this._stopPoller()}},{key:"_startPoller",value:function(){var e=this.props,t=e.match,n=e.dispatch,r=t.params.title,a=l.a.parse(location.search).wikiSource;this._sessionPoller=setInterval(function(){n(d.a.fetchConversionProgress({title:r,wikiSource:a}))},1e4)}},{key:"_stopPoller",value:function(){clearInterval(this._sessionPoller),this._sessionPoller=null}},{key:"_navigateToArticle",value:function(){var e=this;setTimeout(function(){if(e.props.conversionPercentage.converted){var t=l.a.parse(location.search).wikiSource;e.props.history.push("/videowiki/".concat(e.props.conversionPercentage.title,"?wikiSource=").concat(t))}else e._startPoller()},2e3)}},{key:"_render",value:function(){var e=this.props,t=e.match,n=e.conversionPercentage,r=t.params.title,o=n?n.progress:0;return c.a.createElement("div",{className:"u-page-center"},c.a.createElement("h2",null,"Converting Wikipedia Article for ".concat(r.split("_").join(" ")," to VideoWiki")),c.a.createElement(a.a,{className:"c-app-conversion-progress",percent:o,progress:!0,indicating:!0}),c.a.createElement("div",null,c.a.createElement("span",null,"Converting - ".concat(o,"% converted"))),c.a.createElement("div",null,c.a.createElement("strong",null,"Quick Fact: "),"It takes 4-5 minutes to convert an article. So get some ",c.a.createElement("img",{className:"c-app-coffee",src:"https://s3.eu-central-1.amazonaws.com/vwpmedia/statics/coffee.png"})," until then."))}},{key:"render",value:function(){return this._render()}}])&&y(n.prototype,r),i&&y(n,i),t}();t.default=Object(s.f)(Object(i.b)(function(e){return Object.assign({},e.wikiProgress,e.article)})(g))},885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),a=s(n(19)),o=s(n(3)),c=(s(n(4)),s(n(0))),i=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className,s=e.content,l=(0,o.default)("content",n),f=(0,i.getUnhandledProps)(u,e),d=(0,i.getElementType)(u,e);return c.default.createElement(d,(0,r.default)({},f,{className:l}),(0,a.default)(t)?s:t)}u.handledProps=["as","children","className","content"],u._meta={name:"MessageItem",parent:"Message",type:i.META.TYPES.COLLECTION},u.defaultProps={as:"li"},u.create=(0,i.createShorthandFactory)(u,function(e){return{content:e}}),t.default=u},886:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(2)),a=g(n(20)),o=g(n(21)),c=g(n(22)),i=g(n(23)),s=g(n(19)),u=(g(n(76)),g(n(3))),l=(g(n(4)),n(0)),f=g(l),d=n(5),p=g(n(99)),y=g(n(888)),m=g(n(889)),v=g(n(890)),h=g(n(885));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=r=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleDismiss=function(e){var t=r.props.onDismiss;t&&t(e,r.props)},o=n,(0,c.default)(r,o)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,n=e.attached,a=e.children,o=e.className,c=e.color,i=e.compact,l=e.content,h=e.error,g=e.floating,b=e.header,O=e.hidden,_=e.icon,P=e.info,E=e.list,j=e.negative,w=e.onDismiss,M=e.positive,k=e.size,S=e.success,N=e.visible,T=e.warning,C=(0,u.default)("ui",c,k,(0,d.useKeyOnly)(i,"compact"),(0,d.useKeyOnly)(h,"error"),(0,d.useKeyOnly)(g,"floating"),(0,d.useKeyOnly)(O,"hidden"),(0,d.useKeyOnly)(_,"icon"),(0,d.useKeyOnly)(P,"info"),(0,d.useKeyOnly)(j,"negative"),(0,d.useKeyOnly)(M,"positive"),(0,d.useKeyOnly)(S,"success"),(0,d.useKeyOnly)(N,"visible"),(0,d.useKeyOnly)(T,"warning"),(0,d.useKeyOrValueAndKey)(n,"attached"),"message",o),A=w&&f.default.createElement(p.default,{name:"close",onClick:this.handleDismiss}),I=(0,d.getUnhandledProps)(t,this.props),K=(0,d.getElementType)(t,this.props);return(0,s.default)(a)?f.default.createElement(K,(0,r.default)({},I,{className:C}),A,p.default.create(_),(!(0,s.default)(b)||!(0,s.default)(l)||!(0,s.default)(E))&&f.default.createElement(y.default,null,m.default.create(b),v.default.create(E),(0,d.createHTMLParagraph)(l))):f.default.createElement(K,(0,r.default)({},I,{className:C}),A,a)}}]),t}(l.Component);b._meta={name:"Message",type:d.META.TYPES.COLLECTION},b.Content=y.default,b.Header=m.default,b.List=v.default,b.Item=h.default,b.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],t.default=b},887:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(886),a=n.n(r),o=n(0),c=n.n(o),i=n(370);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.componentState,n=e.loaderMessage,r=e.errorMessage,o=e.onRender;switch(t){case"done":return o();case"loading":return this.props.loaderDisabled?null:c.a.createElement(i.a,{loaderImage:this.props.loaderImage},n);case"failed":return c.a.createElement(a.a,{color:"red",size:"massive"},r);default:return this.props.loaderDisabled?null:c.a.createElement(i.a,{loaderImage:this.props.loaderImage})}}}])&&u(n.prototype,r),s&&u(n,s),t}()},888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),a=i(n(3)),o=(i(n(4)),i(n(0))),c=n(5);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.children,n=e.className,i=(0,a.default)("content",n),u=(0,c.getUnhandledProps)(s,e),l=(0,c.getElementType)(s,e);return o.default.createElement(l,(0,r.default)({},u,{className:i}),t)}s.handledProps=["as","children","className"],s._meta={name:"MessageContent",parent:"Message",type:c.META.TYPES.COLLECTION},t.default=s},889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),a=s(n(19)),o=s(n(3)),c=(s(n(4)),s(n(0))),i=n(5);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className,s=e.content,l=(0,o.default)("header",n),f=(0,i.getUnhandledProps)(u,e),d=(0,i.getElementType)(u,e);return c.default.createElement(d,(0,r.default)({},f,{className:l}),(0,a.default)(t)?s:t)}u.handledProps=["as","children","className","content"],u._meta={name:"MessageHeader",parent:"Message",type:i.META.TYPES.COLLECTION},u.create=(0,i.createShorthandFactory)(u,function(e){return{content:e}}),t.default=u},890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(2)),a=l(n(98)),o=l(n(19)),c=l(n(3)),i=(l(n(4)),l(n(0))),s=n(5),u=l(n(885));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.children,n=e.className,l=e.items,d=(0,c.default)("list",n),p=(0,s.getUnhandledProps)(f,e),y=(0,s.getElementType)(f,e);return i.default.createElement(y,(0,r.default)({},p,{className:d}),(0,o.default)(t)?(0,a.default)(l,u.default.create):t)}f.handledProps=["as","children","className","items"],f._meta={name:"MessageList",parent:"Message",type:s.META.TYPES.COLLECTION},f.defaultProps={as:"ul"},f.create=(0,s.createShorthandFactory)(f,function(e){return{items:e}}),t.default=f},891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(2)),a=v(n(20)),o=v(n(21)),c=v(n(22)),i=v(n(23)),s=v(n(19)),u=v(n(1045)),l=v(n(1047)),f=v(n(145)),d=(v(n(76)),v(n(3))),p=(v(n(4)),n(0)),y=v(p),m=n(5);function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var i=arguments.length,d=Array(i),p=0;p<i;p++)d[p]=arguments[p];return n=r=(0,c.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.calculatePercent=function(){var e=r.props,t=e.percent,n=e.total,a=e.value;return(0,f.default)(t)?(0,f.default)(n)||(0,f.default)(a)?void 0:a/n*100:t},r.getPercent=function(){var e=r.props.precision,t=(0,l.default)(r.calculatePercent(),0,100);return(0,f.default)(e)?t:(0,u.default)(t,e)},r.isAutoSuccess=function(){var e=r.props,t=e.autoSuccess,n=e.percent,a=e.total,o=e.value;return t&&(n>=100||o>=a)},r.renderLabel=function(){var e=r.props,t=e.children,n=e.label;return(0,s.default)(t)?(0,m.createHTMLDivision)(n,{defaultProps:{className:"label"}}):y.default.createElement("div",{className:"label"},t)},r.renderProgress=function(e){var t=r.props,n=t.precision,a=t.progress,o=t.total,c=t.value;if(a||!(0,f.default)(n))return y.default.createElement("div",{className:"progress"},"ratio"!==a?e+"%":c+"/"+o)},o=n,(0,c.default)(r,o)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.attached,o=e.className,c=e.color,i=e.disabled,s=e.error,u=e.indicating,l=e.inverted,f=e.size,p=e.success,v=e.warning,h=(0,d.default)("ui",c,f,(0,m.useKeyOnly)(n||u,"active"),(0,m.useKeyOnly)(i,"disabled"),(0,m.useKeyOnly)(s,"error"),(0,m.useKeyOnly)(u,"indicating"),(0,m.useKeyOnly)(l,"inverted"),(0,m.useKeyOnly)(p||this.isAutoSuccess(),"success"),(0,m.useKeyOnly)(v,"warning"),(0,m.useValueAndKey)(a,"attached"),"progress",o),g=(0,m.getUnhandledProps)(t,this.props),b=(0,m.getElementType)(t,this.props),O=this.getPercent();return y.default.createElement(b,(0,r.default)({},g,{className:h,"data-percent":Math.floor(O)}),y.default.createElement("div",{className:"bar",style:{width:O+"%"}},this.renderProgress(O)),this.renderLabel())}}]),t}(p.Component);h._meta={name:"Progress",type:m.META.TYPES.MODULE},h.handledProps=["active","as","attached","autoSuccess","children","className","color","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],t.default=h},900:function(e,t,n){"use strict";var r=n(1048),a=n(10),o=n(1049);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function i(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function s(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:o(c),n(o(a),c,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=i,t.parse=s,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(n,e)].join("")};case"bracket":return function(t,n){return null===n?c(t,e):[c(t,e),"[]=",c(n,e)].join("")};default:return function(t,n){return null===n?c(t,e):[c(t,e),"=",c(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return c(r,t);if(Array.isArray(a)){var o=[];return a.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return c(r,t)+"="+c(a,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:s(i(e),t)}}}});
//# sourceMappingURL=WikiProgress.c10cadf6.chunk.js.map