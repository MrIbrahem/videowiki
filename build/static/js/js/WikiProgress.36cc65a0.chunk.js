webpackJsonp([8],{1039:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},1040:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function i(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="\ufffd";for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},1056:function(e,t,n){var r=n(1057)("round");e.exports=r},1057:function(e,t,n){var r=n(38),o=n(143),a=n(74),i=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),n=null==n?0:i(r(n),292)){var c=(a(e)+"e").split("e"),u=t(c[0]+"e"+(+c[1]+n));return+((c=(a(u)+"e").split("e"))[0]+"e"+(+c[1]-n))}return t(e)}}},1058:function(e,t,n){var r=n(373),o=n(143);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))===n?n:0),void 0!==t&&(t=(t=o(t))===t?t:0),r(o(e),t,n)}},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(887),o=n.n(r),a=n(0),i=n.n(a),c=n(73),u=n(44),s=n(888),l=n.n(s),f=(n(876),n(223)),d=n(221);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,v(t).apply(this,arguments))}var n,r,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentWillMount",value:function(){var e=this.props,t=e.match,n=e.dispatch,r=t.params.title,o=l.a.parse(location.search).wikiSource;n(f.a.convertWiki({title:r,wikiSource:o})),n(d.a.fetchConversionProgress({title:r,wikiSource:o})),this._startPoller()}},{key:"componentWillReceiveProps",value:function(e){!0===e.conversionPercentage.converted&&(this._stopPoller(),this._navigateToArticle())}},{key:"componentWillUnmount",value:function(){this._stopPoller()}},{key:"_startPoller",value:function(){var e=this.props,t=e.match,n=e.dispatch,r=t.params.title,o=l.a.parse(location.search).wikiSource;this._sessionPoller=setInterval(function(){n(d.a.fetchConversionProgress({title:r,wikiSource:o}))},1e4)}},{key:"_stopPoller",value:function(){clearInterval(this._sessionPoller),this._sessionPoller=null}},{key:"_navigateToArticle",value:function(){var e=this;setTimeout(function(){if(e.props.conversionPercentage.converted){var t=l.a.parse(location.search).wikiSource;e.props.history.push("/videowiki/".concat(e.props.conversionPercentage.title,"?wikiSource=").concat(t))}else e._startPoller()},2e3)}},{key:"_render",value:function(){var e=this.props,t=e.match,n=e.conversionPercentage,r=t.params.title,a=n?n.progress:0;return i.a.createElement("div",{className:"u-page-center"},i.a.createElement("h2",null,"Converting Wikipedia Article for ".concat(r.split("_").join(" ")," to VideoWiki")),i.a.createElement(o.a,{className:"c-app-conversion-progress",percent:a,progress:!0,indicating:!0}),i.a.createElement("div",null,i.a.createElement("span",null,"Converting - ".concat(a,"% converted"))),i.a.createElement("div",null,i.a.createElement("strong",null,"Quick Fact: "),"It takes 4-5 minutes to convert an article. So get some ",i.a.createElement("img",{src:"/img/coffee.png",className:"c-app-coffee"})," until then."))}},{key:"render",value:function(){return this._render()}}])&&y(n.prototype,r),c&&y(n,c),t}();t.default=Object(u.f)(Object(c.b)(function(e){return Object.assign({},e.wikiProgress,e.article)})(g))},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),o=u(n(19)),a=u(n(3)),i=(u(n(4)),u(n(0))),c=n(6);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.children,n=e.className,u=e.content,l=(0,a.default)("content",n),f=(0,c.getUnhandledProps)(s,e),d=(0,c.getElementType)(s,e);return i.default.createElement(d,(0,r.default)({},f,{className:l}),(0,o.default)(t)?u:t)}s.handledProps=["as","children","className","content"],s._meta={name:"MessageItem",parent:"Message",type:c.META.TYPES.COLLECTION},s.defaultProps={as:"li"},s.create=(0,c.createShorthandFactory)(s,function(e){return{content:e}}),t.default=s},873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(2)),o=g(n(20)),a=g(n(21)),i=g(n(22)),c=g(n(23)),u=g(n(19)),s=(g(n(72)),g(n(3))),l=(g(n(4)),n(0)),f=g(l),d=n(6),p=g(n(98)),y=g(n(877)),m=g(n(878)),v=g(n(879)),h=g(n(872));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return n=r=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleDismiss=function(e){var t=r.props.onDismiss;t&&t(e,r.props)},a=n,(0,i.default)(r,a)}return(0,c.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,n=e.attached,o=e.children,a=e.className,i=e.color,c=e.compact,l=e.content,h=e.error,g=e.floating,b=e.header,O=e.hidden,_=e.icon,E=e.info,P=e.list,j=e.negative,w=e.onDismiss,S=e.positive,M=e.size,T=e.success,k=e.visible,N=e.warning,C=(0,s.default)("ui",i,M,(0,d.useKeyOnly)(c,"compact"),(0,d.useKeyOnly)(h,"error"),(0,d.useKeyOnly)(g,"floating"),(0,d.useKeyOnly)(O,"hidden"),(0,d.useKeyOnly)(_,"icon"),(0,d.useKeyOnly)(E,"info"),(0,d.useKeyOnly)(j,"negative"),(0,d.useKeyOnly)(S,"positive"),(0,d.useKeyOnly)(T,"success"),(0,d.useKeyOnly)(k,"visible"),(0,d.useKeyOnly)(N,"warning"),(0,d.useKeyOrValueAndKey)(n,"attached"),"message",a),K=w&&f.default.createElement(p.default,{name:"close",onClick:this.handleDismiss}),A=(0,d.getUnhandledProps)(t,this.props),I=(0,d.getElementType)(t,this.props);return(0,u.default)(o)?f.default.createElement(I,(0,r.default)({},A,{className:C}),K,p.default.create(_),(!(0,u.default)(b)||!(0,u.default)(l)||!(0,u.default)(P))&&f.default.createElement(y.default,null,m.default.create(b),v.default.create(P),(0,d.createHTMLParagraph)(l))):f.default.createElement(I,(0,r.default)({},A,{className:C}),K,o)}}]),t}(l.Component);b._meta={name:"Message",type:d.META.TYPES.COLLECTION},b.Content=y.default,b.Header=m.default,b.List=v.default,b.Item=h.default,b.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],t.default=b},874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),o=u(n(19)),a=u(n(3)),i=(u(n(4)),u(n(0))),c=n(6);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.active,n=e.children,u=e.className,l=e.content,f=e.disabled,d=e.indeterminate,p=e.inline,y=e.inverted,m=e.size,v=(0,a.default)("ui",m,(0,c.useKeyOnly)(t,"active"),(0,c.useKeyOnly)(f,"disabled"),(0,c.useKeyOnly)(d,"indeterminate"),(0,c.useKeyOnly)(y,"inverted"),(0,c.useKeyOnly)(n||l,"text"),(0,c.useKeyOrValueAndKey)(p,"inline"),"loader",u),h=(0,c.getUnhandledProps)(s,e),g=(0,c.getElementType)(s,e);return i.default.createElement(g,(0,r.default)({},h,{className:v}),(0,o.default)(n)?l:n)}s.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],s._meta={name:"Loader",type:c.META.TYPES.ELEMENT},t.default=s},875:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(140),o=n.n(r),a=n(366),i=n.n(a),c=n(874),u=n.n(c),s=n(0),l=n.n(s);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,s["Component"]),n=t,(r=[{key:"render",value:function(){return this.props.loaderImage?l.a.createElement(i.a,{active:!0,inverted:!0},l.a.createElement(o.a,{src:this.props.loaderImage,size:"small"}),l.a.createElement("h3",null,this.props.children)):l.a.createElement(i.a,{active:!0,inverted:!0},l.a.createElement(u.a,{size:"large",active:!0,inverted:!0},this.props.children))}}])&&d(n.prototype,r),a&&d(n,a),t}()},876:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(873),o=n.n(r),a=n(0),i=n.n(a),c=n(875);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.componentState,n=e.loaderMessage,r=e.errorMessage,a=e.onRender;switch(t){case"done":return a();case"loading":return this.props.loaderDisabled?null:i.a.createElement(c.a,{loaderImage:this.props.loaderImage},n);case"failed":return i.a.createElement(o.a,{color:"red",size:"massive"},r);default:return this.props.loaderDisabled?null:i.a.createElement(c.a,{loaderImage:this.props.loaderImage})}}}])&&s(n.prototype,r),u&&s(n,u),t}()},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(3)),a=(c(n(4)),c(n(0))),i=n(6);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.children,n=e.className,c=(0,o.default)("content",n),s=(0,i.getUnhandledProps)(u,e),l=(0,i.getElementType)(u,e);return a.default.createElement(l,(0,r.default)({},s,{className:c}),t)}u.handledProps=["as","children","className"],u._meta={name:"MessageContent",parent:"Message",type:i.META.TYPES.COLLECTION},t.default=u},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),o=u(n(19)),a=u(n(3)),i=(u(n(4)),u(n(0))),c=n(6);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.children,n=e.className,u=e.content,l=(0,a.default)("header",n),f=(0,c.getUnhandledProps)(s,e),d=(0,c.getElementType)(s,e);return i.default.createElement(d,(0,r.default)({},f,{className:l}),(0,o.default)(t)?u:t)}s.handledProps=["as","children","className","content"],s._meta={name:"MessageHeader",parent:"Message",type:c.META.TYPES.COLLECTION},s.create=(0,c.createShorthandFactory)(s,function(e){return{content:e}}),t.default=s},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(2)),o=l(n(97)),a=l(n(19)),i=l(n(3)),c=(l(n(4)),l(n(0))),u=n(6),s=l(n(872));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.children,n=e.className,l=e.items,d=(0,i.default)("list",n),p=(0,u.getUnhandledProps)(f,e),y=(0,u.getElementType)(f,e);return c.default.createElement(y,(0,r.default)({},p,{className:d}),(0,a.default)(t)?(0,o.default)(l,s.default.create):t)}f.handledProps=["as","children","className","items"],f._meta={name:"MessageList",parent:"Message",type:u.META.TYPES.COLLECTION},f.defaultProps={as:"ul"},f.create=(0,u.createShorthandFactory)(f,function(e){return{items:e}}),t.default=f},887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(2)),o=v(n(20)),a=v(n(21)),i=v(n(22)),c=v(n(23)),u=v(n(19)),s=v(n(1056)),l=v(n(1058)),f=v(n(146)),d=(v(n(72)),v(n(3))),p=(v(n(4)),n(0)),y=v(p),m=n(6);function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,n,r,a;(0,o.default)(this,t);for(var c=arguments.length,d=Array(c),p=0;p<c;p++)d[p]=arguments[p];return n=r=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.calculatePercent=function(){var e=r.props,t=e.percent,n=e.total,o=e.value;return(0,f.default)(t)?(0,f.default)(n)||(0,f.default)(o)?void 0:o/n*100:t},r.getPercent=function(){var e=r.props.precision,t=(0,l.default)(r.calculatePercent(),0,100);return(0,f.default)(e)?t:(0,s.default)(t,e)},r.isAutoSuccess=function(){var e=r.props,t=e.autoSuccess,n=e.percent,o=e.total,a=e.value;return t&&(n>=100||a>=o)},r.renderLabel=function(){var e=r.props,t=e.children,n=e.label;return(0,u.default)(t)?(0,m.createHTMLDivision)(n,{defaultProps:{className:"label"}}):y.default.createElement("div",{className:"label"},t)},r.renderProgress=function(e){var t=r.props,n=t.precision,o=t.progress,a=t.total,i=t.value;if(o||!(0,f.default)(n))return y.default.createElement("div",{className:"progress"},"ratio"!==o?e+"%":i+"/"+a)},a=n,(0,i.default)(r,a)}return(0,c.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.attached,a=e.className,i=e.color,c=e.disabled,u=e.error,s=e.indicating,l=e.inverted,f=e.size,p=e.success,v=e.warning,h=(0,d.default)("ui",i,f,(0,m.useKeyOnly)(n||s,"active"),(0,m.useKeyOnly)(c,"disabled"),(0,m.useKeyOnly)(u,"error"),(0,m.useKeyOnly)(s,"indicating"),(0,m.useKeyOnly)(l,"inverted"),(0,m.useKeyOnly)(p||this.isAutoSuccess(),"success"),(0,m.useKeyOnly)(v,"warning"),(0,m.useValueAndKey)(o,"attached"),"progress",a),g=(0,m.getUnhandledProps)(t,this.props),b=(0,m.getElementType)(t,this.props),O=this.getPercent();return y.default.createElement(b,(0,r.default)({},g,{className:h,"data-percent":Math.floor(O)}),y.default.createElement("div",{className:"bar",style:{width:O+"%"}},this.renderProgress(O)),this.renderLabel())}}]),t}(p.Component);h._meta={name:"Progress",type:m.META.TYPES.MODULE},h.handledProps=["active","as","attached","autoSuccess","children","className","color","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],t.default=h},888:function(e,t,n){"use strict";var r=n(1039),o=n(9),a=n(1040);function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:a(i),n(a(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=c,t.parse=u,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return i(r,t)+"="+i(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:u(c(e),t)}}}});
//# sourceMappingURL=WikiProgress.36cc65a0.chunk.js.map